<?xml version="1.0" encoding="UTF-8"?>
<splresearch:SPL
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:splresearch="http://www.example.org/splresearch"
    xsi:schemaLocation="http://www.example.org/splresearch splresearch.ecore"
    name="cars">
  <mpl name="StationWagons">
    <product
        name="StationWagon"/>
    <fourvm/>
    <plicapproach/>
  </mpl>
  <mpl name="cabriolet"
      mplvariability="//@variability.1">
    <product
        name="cabriolets"/>
    <fourvm/>
    <plicapproach/>
  </mpl>
  <variability
      variability="v1">
    <mplfeaturemodel
        name="SW-FM"
        product="//@mpl.0/@product.0">
      <dependecy
          xsi:type="splresearch:Exclude"
          Exclude="exclude"/>
      <dependecy
          xsi:type="splresearch:Require"
          Require="require"/>
      <contextvariabilitymodel
          name="cvm">
        <context
            name="Continent">
          <contextfeatures
              name="Europe"
              cardinality="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cflink.0"
              dependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.0"/>
          <contextfeatures
              name="Asia"
              cardinality="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cflink.0"
              dependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.0"/>
          <cflink/>
          <cardinality
              cardinality="1toM"/>
        </context>
        <context
            name="WiperController">
          <contextfeatures
              name="back"
              cardinality="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.1/@cflink.0"
              dependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.0"/>
          <contextfeatures
              name="front"
              cardinality="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cflink.0"/>
          <cflink
              type="Optional"/>
        </context>
        <context
            name="RController">
          <contextfeatures
              name="RoofController"
              cardinality="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cflink.0"
              dependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.1"/>
          <cflink/>
        </context>
      </contextvariabilitymodel>
      <featuemodel
          name="fm">
        <features
            name="CarBody"
            featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            bindingtime="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0"/>
        <features
            name="Transmission"
            featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            featuregroup="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featuregroup.1"
            bindingtime="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0">
          <rootnode
              name="Automatic"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"/>
          <rootnode
              name="Manual"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"/>
        </features>
        <features
            name="Engine"
            featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            featuregroup="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featuregroup.1"
            bindingtime="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0">
          <rootnode
              name="gas"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"/>
          <rootnode
              name="Electric"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"/>
        </features>
        <features
            name="InteriorControl"
            featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            bindingtime="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0">
          <childnode
              name="Wiper"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <childnode
              name="FrontWiper"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="Wash"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="R/L-Sensor"
              rdependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.0"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="IntervalSensor"
              rdependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.0"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="RearWiper"
              rdependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.0"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="Roof"
              rdependecy="//@variability.0/@mplfeaturemodel.0/@dependecy.1"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
        </features>
        <bindingtime/>
        <featuregroup
            xsi:type="splresearch:XOR"/>
        <featuregroup
            xsi:type="splresearch:OR"/>
        <featurelink/>
        <featurelink
            Type="Optional"/>
      </featuemodel>
      <timingconstraints
          xsi:type="splresearch:PrecedenceConstraints"
          timmingcons="2sec"/>
    </mplfeaturemodel>
    <featureconfiguration
        configureFM="cfm"
        confeatuemodel="//@variability.0/@mplfeaturemodel.0/@featuemodel.0"/>
  </variability>
  <variability
      variability="v2">
    <mplfeaturemodel
        name="CA-FM"
        product="//@mpl.1/@product.0">
      <dependecy
          xsi:type="splresearch:Exclude"
          Exclude="exlude"/>
      <dependecy
          xsi:type="splresearch:Require"
          Require="requires"/>
      <contextvariabilitymodel
          name="cvm2">
        <context
            name="Continents">
          <contextfeatures
              name="Europe"
              cardinality="//@variability.1/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cflink.0"
              dependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.0"/>
          <contextfeatures
              name="Asia"
              cardinality="//@variability.1/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.1/@cflink.0"
              dependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.0"/>
          <cflink/>
          <cardinality
              cardinality="1toM"/>
        </context>
        <context
            name="WiperController">
          <contextfeatures
              name="back"
              cardinality="//@variability.1/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cardinality.0"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.1/@cflink.0"
              dependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.0"/>
          <contextfeatures
              name="front"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cflink.0"/>
        </context>
        <context
            name="RoofController">
          <contextfeatures
              name="RoofController"
              cflink="//@variability.0/@mplfeaturemodel.0/@contextvariabilitymodel.0/@context.0/@cflink.0"
              dependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.1"/>
        </context>
      </contextvariabilitymodel>
      <featuemodel
          name="fm2">
        <features
            name="CarBody"
            featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            bindingtime="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0"/>
        <features
            name="Transmission"
            featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            featuregroup="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featuregroup.1"
            bindingtime="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0">
          <rootnode
              name="Automatic"
              featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"/>
          <rootnode
              name="Manual"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"/>
        </features>
        <features
            name="Engine"
            featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            featuregroup="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featuregroup.1"
            bindingtime="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0">
          <rootnode
              name="Electric"
              featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"/>
          <rootnode
              name="Gasoline"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"/>
        </features>
        <features
            name="InteriorControl"
            featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
            bindingtime="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@bindingtime.0">
          <childnode
              name="Wiper"
              featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <childnode
              name="FrontWiper"
              featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="RearWiper"
              rdependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.0"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"/>
          <rootnode
              name="Wash"
              featurelink="//@variability.0/@mplfeaturemodel.0/@featuemodel.0/@featurelink.0"
              precedenceconstraints="//@variability.0/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="R/LSensor"
              rdependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.0"
              featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"
              precedenceconstraints="//@variability.1/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="IntervalSensor"
              rdependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.0"
              featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"
              precedenceconstraints="//@variability.1/@mplfeaturemodel.0/@timingconstraints.0"/>
          <rootnode
              name="Roof"
              rdependecy="//@variability.1/@mplfeaturemodel.0/@dependecy.1"
              featurelink="//@variability.1/@mplfeaturemodel.0/@featuemodel.0/@featurelink.1"
              precedenceconstraints="//@variability.1/@mplfeaturemodel.0/@timingconstraints.0"/>
        </features>
        <bindingtime/>
        <featuregroup
            xsi:type="splresearch:OR"
            OR="OR"/>
        <featurelink/>
        <featurelink
            Type="Optional"/>
      </featuemodel>
      <timingconstraints
          xsi:type="splresearch:PrecedenceConstraints"
          timmingcons="3 secs"/>
    </mplfeaturemodel>
    <featureconfiguration
        configureFM="cfm2"
        confeatuemodel="//@variability.1/@mplfeaturemodel.0/@featuemodel.0"/>
  </variability>
</splresearch:SPL>
